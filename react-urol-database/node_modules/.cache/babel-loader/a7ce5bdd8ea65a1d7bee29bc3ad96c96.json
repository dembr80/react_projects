{"ast":null,"code":"'use strict';\n\nvar _classCallCheck = require(\"C:\\\\Users\\\\dembr\\\\Documents\\\\GitHub\\\\react_projects\\\\react-urol-database\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"C:\\\\Users\\\\dembr\\\\Documents\\\\GitHub\\\\react_projects\\\\react-urol-database\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/createClass\");\n\nvar _possibleConstructorReturn = require(\"C:\\\\Users\\\\dembr\\\\Documents\\\\GitHub\\\\react_projects\\\\react-urol-database\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"C:\\\\Users\\\\dembr\\\\Documents\\\\GitHub\\\\react_projects\\\\react-urol-database\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/getPrototypeOf\");\n\nvar _inherits = require(\"C:\\\\Users\\\\dembr\\\\Documents\\\\GitHub\\\\react_projects\\\\react-urol-database\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/inherits\");\n\nvar Command = require('./command');\n\nvar Errors = require('../misc/errors');\n/**\n * send a COM_RESET_CONNECTION: permits to reset a connection without re-authentication.\n * see https://mariadb.com/kb/en/library/com_reset_connection/\n */\n\n\nvar Reset =\n/*#__PURE__*/\nfunction (_Command) {\n  _inherits(Reset, _Command);\n\n  function Reset(resolve, reject) {\n    _classCallCheck(this, Reset);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Reset).call(this, resolve, reject));\n  }\n\n  _createClass(Reset, [{\n    key: \"start\",\n    value: function start(out, opts, info) {\n      out.startPacket(this);\n      out.writeInt8(0x1f);\n      out.flushBuffer(true);\n      this.emit('send_end');\n      this.onPacketReceive = this.readResetResponsePacket;\n    }\n    /**\n     * Read response packet.\n     * packet can be :\n     * - an ERR_Packet\n     * - a OK_Packet\n     *\n     * @param packet  query response\n     * @param out     output writer\n     * @param opts    connection options\n     * @param info    connection info\n     */\n\n  }, {\n    key: \"readResetResponsePacket\",\n    value: function readResetResponsePacket(packet, out, opts, info) {\n      if (packet.peek() !== 0x00) {\n        return this.throwNewError('unexpected packet', false, info, '42000', Errors.ER_RESET_BAD_PACKET);\n      }\n\n      packet.skip(1); //skip header\n\n      packet.skipLengthCodedNumber(); //affected rows\n\n      packet.skipLengthCodedNumber(); //insert ids\n\n      info.status = packet.readUInt16();\n      this.successEnd(null);\n    }\n  }]);\n\n  return Reset;\n}(Command);\n\nmodule.exports = Reset;","map":{"version":3,"sources":["C:/Users/dembr/Documents/GitHub/react_projects/react-urol-database/node_modules/mariadb/lib/cmd/reset.js"],"names":["Command","require","Errors","Reset","resolve","reject","out","opts","info","startPacket","writeInt8","flushBuffer","emit","onPacketReceive","readResetResponsePacket","packet","peek","throwNewError","ER_RESET_BAD_PACKET","skip","skipLengthCodedNumber","status","readUInt16","successEnd","module","exports"],"mappings":"AAAA;;;;;;;;;;;;AAEA,IAAMA,OAAO,GAAGC,OAAO,CAAC,WAAD,CAAvB;;AACA,IAAMC,MAAM,GAAGD,OAAO,CAAC,gBAAD,CAAtB;AAEA;;;;;;IAIME,K;;;;;AACJ,iBAAYC,OAAZ,EAAqBC,MAArB,EAA6B;AAAA;;AAAA,8EACrBD,OADqB,EACZC,MADY;AAE5B;;;;0BAEKC,G,EAAKC,I,EAAMC,I,EAAM;AACrBF,MAAAA,GAAG,CAACG,WAAJ,CAAgB,IAAhB;AACAH,MAAAA,GAAG,CAACI,SAAJ,CAAc,IAAd;AACAJ,MAAAA,GAAG,CAACK,WAAJ,CAAgB,IAAhB;AACA,WAAKC,IAAL,CAAU,UAAV;AACA,WAAKC,eAAL,GAAuB,KAAKC,uBAA5B;AACD;AAED;;;;;;;;;;;;;;4CAWwBC,M,EAAQT,G,EAAKC,I,EAAMC,I,EAAM;AAC/C,UAAIO,MAAM,CAACC,IAAP,OAAkB,IAAtB,EAA4B;AAC1B,eAAO,KAAKC,aAAL,CACL,mBADK,EAEL,KAFK,EAGLT,IAHK,EAIL,OAJK,EAKLN,MAAM,CAACgB,mBALF,CAAP;AAOD;;AAEDH,MAAAA,MAAM,CAACI,IAAP,CAAY,CAAZ,EAX+C,CAW/B;;AAChBJ,MAAAA,MAAM,CAACK,qBAAP,GAZ+C,CAYf;;AAChCL,MAAAA,MAAM,CAACK,qBAAP,GAb+C,CAaf;;AAEhCZ,MAAAA,IAAI,CAACa,MAAL,GAAcN,MAAM,CAACO,UAAP,EAAd;AACA,WAAKC,UAAL,CAAgB,IAAhB;AACD;;;;EAzCiBvB,O;;AA4CpBwB,MAAM,CAACC,OAAP,GAAiBtB,KAAjB","sourcesContent":["'use strict';\n\nconst Command = require('./command');\nconst Errors = require('../misc/errors');\n\n/**\n * send a COM_RESET_CONNECTION: permits to reset a connection without re-authentication.\n * see https://mariadb.com/kb/en/library/com_reset_connection/\n */\nclass Reset extends Command {\n  constructor(resolve, reject) {\n    super(resolve, reject);\n  }\n\n  start(out, opts, info) {\n    out.startPacket(this);\n    out.writeInt8(0x1f);\n    out.flushBuffer(true);\n    this.emit('send_end');\n    this.onPacketReceive = this.readResetResponsePacket;\n  }\n\n  /**\n   * Read response packet.\n   * packet can be :\n   * - an ERR_Packet\n   * - a OK_Packet\n   *\n   * @param packet  query response\n   * @param out     output writer\n   * @param opts    connection options\n   * @param info    connection info\n   */\n  readResetResponsePacket(packet, out, opts, info) {\n    if (packet.peek() !== 0x00) {\n      return this.throwNewError(\n        'unexpected packet',\n        false,\n        info,\n        '42000',\n        Errors.ER_RESET_BAD_PACKET\n      );\n    }\n\n    packet.skip(1); //skip header\n    packet.skipLengthCodedNumber(); //affected rows\n    packet.skipLengthCodedNumber(); //insert ids\n\n    info.status = packet.readUInt16();\n    this.successEnd(null);\n  }\n}\n\nmodule.exports = Reset;\n"]},"metadata":{},"sourceType":"script"}